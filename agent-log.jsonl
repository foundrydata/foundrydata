{"ts":"2025-11-28T18:40:49.898Z","taskId":"9302.9302004","op":"subtask-complete","files":["packages/core/src/pipeline/orchestrator.ts","packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts","PLAN.md"],"anchors":["cov://§3#coverage-model","cov://§3#dimensions","cov://§4#architecture-components"]}
{"ts":"2025-11-28T18:49:35.831Z","taskId":"9302.9302005","op":"subtask-complete","files":["packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts","packages/core/test/e2e/pipeline.integration.spec.ts","PLAN.md"],"anchors":["cov://§3#coverage-model","cov://§3#dimensions","cov://§6#execution-modes"]}
{"ts":"2025-11-28T19:15:00.000Z","taskId":"9303.9303001","op":"subtask-complete","files":["packages/shared/src/types/coverage-report.ts","packages/shared/src/index.ts","packages/shared/src/coverage/__tests__/coverage-report-types.test.ts","PLAN.md"],"anchors":["cov://§7#json-coverage-report","cov://§7#thresholds-mincoverage"]}
{"ts":"2025-11-28T19:35:38.191Z","taskId":"9303.9303002","op":"subtask-complete","files":["packages/core/src/coverage/evaluator.ts","packages/core/src/coverage/__tests__/evaluator.test.ts","PLAN.md"],"anchors":["cov://§3#coverage-model","cov://§4#coverage-evaluator","cov://§7#json-coverage-report","cov://§7#thresholds-mincoverage"]}
{"ts":"2025-11-28T19:51:08.656Z","taskId":"9303.9303003","op":"subtask-complete","files":["packages/core/src/coverage/evaluator.ts","packages/core/src/coverage/index.ts","packages/core/src/coverage/__tests__/evaluator.test.ts","PLAN.md"],"anchors":["cov://§3#coverage-model","cov://§4#coverage-evaluator","cov://§7#json-coverage-report"]}
{"ts":"2025-11-28T20:07:11.798Z","taskId":"9303.9303004","op":"subtask-complete","files":["packages/core/src/pipeline/orchestrator.ts","packages/core/src/pipeline/types.ts","packages/core/src/api.ts","packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts","PLAN.md"],"anchors":["cov://§3#coverage-model","cov://§4#coverage-evaluator","cov://§7#json-coverage-report"]}
{"ts":"2025-11-28T21:14:40.000Z","taskId":"9303.9303005","action":"subtask-completed","anchors":["cov://§3#coverage-model","cov://§4#coverage-evaluator","cov://§7#json-coverage-report"],"touchedFiles":["packages/core/src/coverage/__tests__/evaluator.test.ts","packages/core/src/coverage/__tests__/coverage-report-json.test.ts",".taskmaster/docs/9303-traceability.md","PLAN.md"],"notes":["Added coverage-report/v1 JSON snapshot tests asserting metrics, dimensionsEnabled and targetsByStatus stability","Updated parent traceability table for 9303 to mark DOD2, DOD5 and TS5 as covered by 9303.9303005"],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#coverage-evaluator","cov://§7#json-coverage-report"],"summary":"Snapshot tests validate coverage-report/v1 JSON structure, metrics and targetsByStatus for measure mode."}}
{"ts":"2025-11-28T21:31:00.000Z","taskId":"9303","action":"parent-task-spec-gap-fix","anchors":["cov://§3#coverage-model","cov://§4#coverage-evaluator","cov://§7#json-coverage-report"],"touchedFiles":["packages/core/src/pipeline/types.ts","packages/core/src/pipeline/orchestrator.ts","packages/core/src/coverage/__tests__/coverage-report-json.test.ts",".taskmaster/docs/9303-traceability.md"],"notes":["Wired PipelineOptions.coverage.minCoverage into CoverageEvaluator thresholds.overall and coverageStatus","Extended coverage-report/v1 JSON tests to assert pre-9310 byOperation empty yet metrics correct, thresholds.overall propagation and determinism of the normalised report across repeated runs"],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#coverage-evaluator","cov://§7#json-coverage-report"],"summary":"MinCoverage thresholds, determinism and pre-9310 byOperation behavior are now enforced and tested for coverage-report/v1."}}
{"ts":"2025-11-28T20:46:31.000Z","taskId":"9304.9304001","action":"subtask-completed","anchors":["cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#cli-summary"],"touchedFiles":["packages/cli/src/index.ts","packages/cli/src/flags.ts","packages/cli/src/index.test.ts","packages/cli/src/__tests__/flags-options.test.ts",".taskmaster/docs/9304-traceability.md","PLAN.md"],"notes":["Added coverage-related CLI flags (mode, dimensions, minCoverage, report path, profile, excludeUnreachable) to generate and openapi commands while keeping coverage=off behavior unchanged.","Extended CLI tests and flag helper tests to cover the new options and created 9304 traceability plus PLAN.md scoped to subtask 9304.9304001."],"refonly":{"anchors":["cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#cli-summary"],"summary":"CLI now exposes coverage flags for generate/openapi and tests verify they parse cleanly ahead of wiring full coverage semantics."}}
{"ts":"2025-11-28T20:58:11.000Z","taskId":"9304.9304002","action":"subtask-completed","anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#json-coverage-report"],"touchedFiles":["packages/cli/src/config/coverage-options.ts","packages/cli/src/index.ts","packages/cli/src/flags.ts","packages/cli/src/index.test.ts",".taskmaster/docs/9304-traceability.md","PLAN.md","packages/core/src/api.ts"],"notes":["Introduced resolveCliCoverageOptions to map CLI coverage flags to a structured config with validation, recommended defaults and explicit handling of coverage=off + min/report.","Wired CLI generate/openapi commands to pass coverage options into @foundrydata/core Generate API, which now forwards PipelineOptions.coverage to executePipeline, and added tests to assert warnings for coverage=off with min/report and untouched data semantics."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#json-coverage-report"],"summary":"CLI coverage flags are now translated into PipelineOptions.coverage for the core pipeline with strict gating for coverage=off and validated dimensions/minCoverage semantics."}}
{"ts":"2025-11-28T21:08:48.000Z","taskId":"9304.9304003","action":"subtask-completed","anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§7#cli-summary"],"touchedFiles":["packages/cli/src/coverage/coverage-summary.ts","packages/cli/src/index.ts","packages/cli/src/__tests__/coverage-summary.test.ts","PLAN.md",".taskmaster/docs/9304-traceability.md"],"notes":["Implemented a deterministic coverage summary formatter that orders signals as byDimension, byOperation, overall, targetsByStatus, then planner caps/unsatisfied hints.","Wired CLI generate/openapi commands to print the summary to stderr when a coverage report is present, and added tests to assert ordering and stability of the formatted summary."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§7#cli-summary"],"summary":"CLI now formats coverage-report/v1 into a CI-friendly summary that emphasizes per-dimension and per-operation coverage before the overall figure, including targetsByStatus and planner diagnostics."}}
{"ts":"2025-11-28T21:18:07.000Z","taskId":"9304.9304004","action":"subtask-completed","anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"touchedFiles":["packages/cli/src/index.ts","packages/cli/src/index.test.ts","packages/cli/src/__tests__/coverage-summary.test.ts","PLAN.md",".taskmaster/docs/9304-traceability.md"],"notes":["Extended CLI tests to cover coverage=measure flows for generate/openapi commands, asserting presence of the coverage summary and preserving NDJSON payload validity.","Added a test that verifies unknown coverage dimensions are rejected with a clear error message, and exercised the summary formatter ordering more thoroughly."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"summary":"CLI tests now exercise coverage flags and summary output, including coverage=measure and validation of unknown coverage dimensions, aligned with coverage-aware V1 behavior."}}
{"ts":"2025-11-28T21:49:42.819Z","taskId":"9311.9311001","action":"set-status","status":"done","note":"Subtask completed: coverage diff classification logic + tests; build/test/bench green."}
{"ts":"2025-11-28T23:10:00.000Z","taskId":"9311.9311002","action":"subtask-completed","anchors":["cov://§7#json-coverage-report","cov://§7#multi-run-diff-m2","cov://§3#coverage-model"],"touchedFiles":["packages/reporter/src/coverage/coverage-diff.ts","packages/reporter/src/coverage/__tests__/coverage-diff.spec.ts","PLAN.md",".taskmaster/docs/9311-traceability.md"],"notes":["Added metric-aware diff summary over the common universe of targets and dimensions, with overall and per-operation deltas and regression detection.","Exposed newly uncovered targets (added uncovered and regressions from hit:true to hit:false) as explicit new gaps in the coverage diff summary.","Introduced unit tests covering improvements, regressions and newly enabled dimensions to keep coverage-diff.ts well covered."],"refonly":{"anchors":["cov://§7#json-coverage-report","cov://§7#multi-run-diff-m2","cov://§3#coverage-model"],"summary":"Metric deltas and regressions for coverage-report/v1 are computed over the common universe of targets and dimensions, with newly uncovered targets reported as explicit new gaps."}}
{"ts":"2025-11-28T23:32:00.000Z","taskId":"9311.9311003","action":"subtask-completed","anchors":["cov://§7#json-coverage-report","cov://§7#multi-run-diff-m2","cov://§3#coverage-model","cov://§7#cli-summary"],"touchedFiles":["packages/core/src/coverage/diff.ts","packages/core/src/coverage/index.ts","packages/reporter/src/coverage/coverage-diff.ts","packages/cli/src/commands/coverage-diff.ts","packages/cli/src/index.ts","packages/cli/src/index.test.ts",".taskmaster/docs/9311-traceability.md","PLAN.md"],"notes":["Moved coverage diff logic into @foundrydata/core as a dedicated coverage/diff module that operates purely on CoverageReport and CoverageTargetReport.","Refactored the reporter coverage-diff module into a thin facade over the core diff API, and wired a nested `foundrydata coverage diff` CLI subcommand that reads two coverage-report/v1 files, prints a CI-friendly summary and sets a non-zero exit code on regressions or new uncovered gaps.","Added CLI tests that exercise the new coverage diff command on synthetic CoverageReports, verifying summary output and exit code semantics, and ensured build/test/bench/typecheck all pass."],"refonly":{"anchors":["cov://§7#json-coverage-report","cov://§7#multi-run-diff-m2","cov://§3#coverage-model","cov://§7#cli-summary"],"summary":"Core now exposes a coverage diff API consumed by reporter and a `foundrydata coverage diff` CLI command that compares two coverage-report/v1 files and highlights regressions and newly uncovered targets."}}
{"ts":"2025-11-28T23:40:00.000Z","taskId":"9311.9311004","action":"subtask-completed","anchors":["cov://§7#json-coverage-report","cov://§7#multi-run-diff-m2","cov://§3#coverage-model"],"touchedFiles":["packages/core/src/coverage/diff.ts","packages/core/src/coverage/__tests__/coverage-diff.spec.ts","packages/reporter/src/coverage/coverage-diff.ts","packages/reporter/src/coverage/__tests__/coverage-diff.spec.ts","packages/cli/src/commands/coverage-diff.ts","packages/cli/src/index.test.ts",".taskmaster/docs/9311-traceability.md","PLAN.md"],"notes":["Added dedicated core tests for coverage diff over synthetic CoverageReports to validate target classification, metric deltas, handling of newly enabled dimensions and regressions with newly uncovered targets.","Kept the reporter coverage-diff façade wired to the core API and ensured its existing tests still exercise the diff behavior through the façade boundary.","Extended CLI tests for `foundrydata coverage diff` to exercise summary output and exit code semantics using JSON fixtures written to disk, while keeping build/test/bench/typecheck green."],"refonly":{"anchors":["cov://§7#json-coverage-report","cov://§7#multi-run-diff-m2","cov://§3#coverage-model"],"summary":"Coverage diff behavior is now exercised end-to-end via core, reporter façade and CLI tests using synthetic CoverageReports and JSON fixtures, covering key scenarios such as added/removed/statusChanged targets, regressions and newly uncovered gaps."}}
{"ts":"2025-11-28T22:57:41.044Z","taskId":"9307.9307001","action":"subtask-completed","anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"touchedFiles":["packages/core/src/coverage/events.ts","packages/core/src/coverage/__tests__/events.test.ts","packages/core/src/coverage/index.ts",".taskmaster/docs/9307-traceability.md","PLAN.md"],"notes":["Introduced per-instance coverage state and a streaming accumulator sharing a stable target index for structure/branches/enum targets.","Extended coverage events tests to cover streaming per-instance flows, commit semantics and diagnostic-only targets being ignored."],"refonly":{"anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"summary":"Per-instance coverage state and streaming accumulator are implemented in coverage/events with unit tests validating commit semantics and diagnostic target handling."}}
{"ts":"2025-11-28T23:08:03.190Z","taskId":"9307.9307002","action":"subtask-completed","anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"touchedFiles":["packages/core/src/coverage/events.ts","packages/core/src/coverage/index.ts","packages/core/src/generator/foundry-generator.ts","packages/core/src/repair/repair-engine.ts","packages/core/src/pipeline/orchestrator.ts","packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts",".taskmaster/docs/9307-traceability.md","PLAN.md"],"notes":["Wired StreamingCoverageAccumulator into the pipeline orchestrator, using per-instance coverage state and commit semantics after validation.","Extended generator and repair coverage hooks to route events through emitForItem with stable instance indices, and added a pipeline test to exercise the streaming path while keeping outputs and coverage artifacts consistent."],"refonly":{"anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"summary":"Streaming coverage accumulator is now wired through Generate, Repair and Validate with per-instance state committed only after validation, and covered by pipeline tests."}}
{"ts":"2025-11-28T23:19:22.411Z","taskId":"9307.9307003","action":"subtask-completed","anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"touchedFiles":["packages/core/src/pipeline/orchestrator.ts","packages/core/src/generator/foundry-generator.ts","packages/core/src/repair/repair-engine.ts",".taskmaster/docs/9307-traceability.md",".taskmaster/docs/SPEC-QUESTION-skipped-validation-coverage.md","PLAN.md"],"notes":["Verified that coverage-report/v1 is computed exclusively from CoverageTargets and the streaming accumulator, with no second JSON parse or post-pass recomputation over generated/repaired items.","Documented the skippedValidation + coverage ambiguity in a SPEC-QUESTION and updated 9307 traceability/PLAN to state that V1 coverage relies solely on streaming instrumentation and CoverageEvaluator."],"refonly":{"anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"summary":"Post-pass coverage recomputation has been eliminated; coverage-report/v1 is now defined purely in terms of streaming instrumentation and CoverageEvaluator, with skippedValidation semantics tracked as a SPEC question."}}
{"ts":"2025-11-28T23:24:06.258Z","taskId":"9307.9307004","action":"subtask-completed","anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"touchedFiles":["scripts/bench-core.ts","scripts/bench-config.ts","test/scripts/bench.test.ts",".taskmaster/docs/9307-traceability.md","PLAN.md"],"notes":["Used the existing bench harness to run the simple profile with coverage=measure via pipelineOverrides, asserting that p95 latency and memory remain within BENCH_BUDGETS.","Documented streaming coverage overhead measurement in the 9307 traceability file and PLAN, keeping the CLI bench script unchanged while exercising coverage-aware runs through tests."],"refonly":{"anchors":["cov://§4#architecture-components","cov://§4#generator-instrumentation","cov://§8#technical-constraints-invariants"],"summary":"Streaming coverage overhead is now measured through the bench harness on the simple profile under coverage=measure, with tests enforcing BENCH_BUDGETS for latency and memory."}}
{"ts":"2025-11-28T23:45:00.000Z","taskId":"9305.9305001","action":"subtask-completed","anchors":["cov://§4#architecture-components","cov://§4#coverage-planner","cov://§5#hints-interaction-with-repair"],"touchedFiles":["packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/index.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts","packages/core/src/pipeline/types.ts",".taskmaster/docs/9305-traceability.md","PLAN.md"],"notes":["Introduced TestUnit, hint and planner configuration types for coverage=guided, including caps placeholders and planner input wiring against CoverageGraph and CoverageTargets.","Exposed planner options via PipelineOptions.coverage.planner and added unit tests that exercise resolveCoveragePlannerConfig and hint validation helpers, ensuring high coverage for the new module."],"refonly":{"anchors":["cov://§4#architecture-components","cov://§4#coverage-planner","cov://§5#hints-interaction-with-repair"],"summary":"Static TestUnit, hint and planner config types are defined and wired into core coverage and pipeline options, with tests covering planner config resolution and hint validation."}}
{"ts":"2025-11-28T23:55:00.000Z","taskId":"9305.9305002","action":"subtask-completed","anchors":["cov://§4#coverage-planner","cov://§5#hints-interaction-with-repair","cov://§6#execution-modes-ux","cov://§6#budget-profiles"],"touchedFiles":["packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/index.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts",".taskmaster/docs/9305-traceability.md","PLAN.md"],"notes":["Implemented a static greedy planner function planTestUnits that orders active targets by operation, dimension priority, weight and canonPath, then assigns each target to a single TestUnit while respecting the global maxInstances budget.","Added unit tests that exercise planner ordering, budget enforcement and operation-level prioritization using synthetic CoverageTargets, keeping caps, diagnostics and advanced seed derivation out of scope for this subtask."],"refonly":{"anchors":["cov://§4#coverage-planner","cov://§5#hints-interaction-with-repair","cov://§6#execution-modes-ux","cov://§6#budget-profiles"],"summary":"Greedy planner ordering and maxInstances budget handling are implemented and covered by tests, leaving caps diagnostics and deterministic seed derivation to later subtasks."}}
{"ts":"2025-11-28T23:59:00.000Z","taskId":"9305.9305003","action":"subtask-completed","anchors":["cov://§4#coverage-planner","cov://§6#execution-modes-ux","cov://§6#budget-profiles"],"touchedFiles":["packages/core/src/coverage/coverage-planner-caps.ts","packages/core/src/coverage/index.ts","packages/core/src/coverage/__tests__/coverage-planner-caps.test.ts",".taskmaster/docs/9305-traceability.md","PLAN.md"],"notes":["Added applyPlannerCaps helper that enforces deterministic caps per dimension, schema path and operation over active targets, producing plannerCapsHit-style aggregates and marking unplanned targets with meta.planned:false.","Covered planner caps behavior with unit tests across no-cap, per-dimension and per-operation scenarios, ensuring deterministic counts of total/planned/unplanned targets per scope without yet wiring diagnostics into the coverage report pipeline."],"refonly":{"anchors":["cov://§4#coverage-planner","cov://§6#execution-modes-ux","cov://§6#budget-profiles"],"summary":"Planner caps are implemented as a deterministic helper that marks unplanned targets via meta.planned:false and produces plannerCapsHit-compatible summaries, with focused unit tests over synthetic targets."}}
{"ts":"2025-11-29T00:03:00.000Z","taskId":"9305.9305004","action":"subtask-completed","anchors":["cov://§4#coverage-planner","cov://§6#execution-modes-ux"],"touchedFiles":["packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/index.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts",".taskmaster/docs/9305-traceability.md","PLAN.md"],"notes":["Added assignTestUnitSeeds helper that derives per-TestUnit seeds deterministically from a normalized masterSeed and stable unit identifiers using the existing XorShift32 RNG model.","Extended planner tests to assert that seeds remain stable for a fixed masterSeed and change predictably when masterSeed varies, without introducing any additional RNG source or global state."],"refonly":{"anchors":["cov://§4#coverage-planner","cov://§6#execution-modes-ux"],"summary":"Deterministic TestUnit seed derivation from masterSeed is implemented via assignTestUnitSeeds and covered by planner unit tests."}}
{"ts":"2025-11-29T00:07:00.000Z","taskId":"9305.9305005","action":"subtask-completed","anchors":["cov://§3#coverage-model","cov://§4#coverage-planner","cov://§6#execution-modes-ux"],"touchedFiles":["packages/core/test/e2e/coverage-guided-planner.spec.ts",".taskmaster/docs/9305-traceability.md","PLAN.md"],"notes":["Added an end-to-end test that runs executePipeline on a simple oneOf+enum schema under coverage=measure and coverage=guided with identical seeds and budgets, asserting that guided mode achieves at least as much branches and enum coverage as measure.","Kept the test focused on metrics.byDimension for branches/enum, without asserting on internal TestUnit ordering or planner caps details, to remain robust against future scheduling heuristics while still validating guided planning behavior."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#coverage-planner","cov://§6#execution-modes-ux"],"summary":"An e2e pipeline test now demonstrates that coverage=guided achieves coverage on branches/enum at least as good as coverage=measure on a simple schema, under the same seed and maxInstances."}}
{"ts":"2025-11-29T01:55:00.000Z","taskId":"9306.9306002","action":"subtask-completed","anchors":["cov://§4#generator-instrumentation","cov://§5#hint-types","cov://§5#priority-conflict-resolution"],"touchedFiles":["packages/core/src/generator/foundry-generator.ts","packages/core/src/generator/__tests__/generator-hints.spec.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Extended the generator options to carry guided coverage hints per TestUnit and built a canonical-path index of hints for deterministic lookup.","Hooked hint consumption into branch selection for oneOf/anyOf, enum value selection and optional property ordering in coverage=guided mode only, and added generator-level tests that demonstrate hint effects while keeping coverage=measure behavior unchanged."],"refonly":{"anchors":["cov://§4#generator-instrumentation","cov://§5#hint-types","cov://§5#priority-conflict-resolution"],"summary":"Generator now consumes guided coverage hints for branches, properties and enums via a canonical-path hints index, with tests confirming that only coverage=guided runs are affected."}}
{"ts":"2025-11-29T01:20:00.000Z","taskId":"9306.9306001","action":"subtask-completed","anchors":["cov://§5#hint-types","cov://§5#priority-conflict-resolution"],"touchedFiles":["packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts","packages/core/src/coverage/index.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Added explicit coverage hint kind priority constants and helpers, encoding the global order coverEnumValue > preferBranch > ensurePropertyPresence.","Implemented resolveCoverageHintConflicts to apply per-kind priority and first-in-hints[] semantics for identical (kind, canonPath, index/property) tuples, and extended coverage-planner tests to cover these rules."],"refonly":{"anchors":["cov://§5#hint-types","cov://§5#priority-conflict-resolution"],"summary":"Coverage hint types now have explicit global priority and conflict-resolution helpers, with unit tests validating priority ordering and first-in-hints[] semantics."}}
{"ts":"2025-11-29T02:05:00.000Z","taskId":"9306.9306003","action":"subtask-completed","anchors":["cov://§4#generator-instrumentation","cov://§5#unsatisfied-hints-repair"],"touchedFiles":["packages/core/src/generator/foundry-generator.ts","packages/core/src/generator/__tests__/generator-hints.spec.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Extended generator coverage options with a recordUnsatisfiedHint callback and implemented detection for unsatisfied ensurePropertyPresence and coverEnumValue hints in coverage=guided mode when properties are absent or enum indices are out of range.","Added generator-level tests that exercise unsatisfied hint recording and confirm that guided runs can emit UnsatisfiedHint entries while still producing AJV-valid instances and leaving coverage metrics unchanged."],"refonly":{"anchors":["cov://§4#generator-instrumentation","cov://§5#unsatisfied-hints-repair"],"summary":"Generator now reports unsatisfied hints for missing properties and invalid enum indices via a dedicated callback in guided mode, with focused tests validating the diagnostics-only contract."}}
{"ts":"2025-11-29T02:10:00.000Z","taskId":"9306.9306004","action":"subtask-completed","anchors":["cov://§5#priority-conflict-resolution","cov://§6#execution-modes-ux"],"touchedFiles":["packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts","packages/core/src/generator/foundry-generator.ts","packages/core/src/generator/__tests__/generator-hints.spec.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Strengthened coverage-planner tests for resolveCoverageHintConflicts to assert the fixed global kind priority, first-in-hints[] semantics per tuple and stability of effective hints across runs for the same input set.","Extended generator-hints tests to cover combined coverEnumValue + ensurePropertyPresence scenarios and to assert that repeated guided runs with identical hints and seeds produce stable branch/enum/property decisions, without affecting coverage=measure behavior."],"refonly":{"anchors":["cov://§5#priority-conflict-resolution","cov://§6#execution-modes-ux"],"summary":"Planner and generator tests now exercise hint precedence and determinism end-to-end at unit level, confirming the global kind priority, first-in-wins ordering and stability across guided runs for fixed schemas, hints and options."}}
{"ts":"2025-11-29T02:18:00.000Z","taskId":"9306.9306005","action":"subtask-completed","anchors":["cov://§3#coverage-model","cov://§5#hint-types","cov://§6#execution-modes-ux"],"touchedFiles":["packages/core/src/generator/__tests__/generator-hints.spec.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Extended generator-hints tests to exercise guided hints on combined oneOf+enum schemas, asserting that for a fixed schema, hints set and seed the generated instances respect preferBranch and coverEnumValue hints deterministically.","These tests complement the existing coverage-guided planner e2e test by focusing on hint-driven behavior at the generator level, keeping coverage metrics and planner integration unchanged for M1."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§5#hint-types","cov://§6#execution-modes-ux"],"summary":"Generator-level tests now cover guided hints on oneOf+enum schemas end-to-end, demonstrating deterministic branch and enum steering for fixed inputs without altering the pipeline orchestrator."}}
{"ts":"2025-11-29T01:35:06.965Z","taskId":"9306.9306006","action":"subtask-completed","anchors":["cov://§4#coverage-planner","cov://§5#hint-types","cov://§6#execution-modes-ux"],"touchedFiles":["packages/core/src/pipeline/orchestrator.ts","packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts","packages/core/test/e2e/coverage-guided-planner.spec.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Wired CoveragePlanner output (caps-adjusted targets and TestUnits) into executePipeline, deriving deterministic TestUnit seeds from the generate seed and aggregating planner hints into the generator coverage options in coverage=guided mode only.","Extended planner and end-to-end pipeline tests to assert that TestUnits carry preferBranch hints for branch targets, and that coverage=guided executePipeline runs on a oneOf+enum schema remain deterministic and achieve branches/enum coverage at least as good as coverage=measure under the same budget."],"refonly":{"anchors":["cov://§4#coverage-planner","cov://§5#hint-types","cov://§6#execution-modes-ux"],"summary":"Planner-produced TestUnits and branch/enum hints are now wired through the pipeline orchestrator into the generator for coverage=guided runs, with executePipeline tests demonstrating deterministic behavior and non-regressing branches/enum coverage versus coverage=measure."}}
{"ts":"2025-11-29T11:12:50.3NZ","taskId":"9306.9306007","action":"subtask-completed","anchors":["cov://§3#dimensions-v1","cov://§4#coverage-planner","cov://§5#hint-types","cov://§5#priority-conflict-resolution"],"touchedFiles":["packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Extended CoveragePlanner to derive ensurePropertyPresence(schemaPath, propertyName, present:true) hints from structural PROPERTY_PRESENT targets, mapping each target to its owning object schema path while leaving CoverageTarget IDs, ordering and statuses unchanged and without introducing any new CoverageIndex heuristics.","Strengthened coverage-planner tests to assert ensurePropertyPresence hints for root and nested properties and to confirm that hints are produced only when the 'structure' dimension is enabled, keeping planner output deterministic for fixed targets and planner configuration."],"refonly":{"anchors":["cov://§3#dimensions-v1","cov://§4#coverage-planner","cov://§5#hint-types","cov://§5#priority-conflict-resolution"],"summary":"CoveragePlanner now projects PROPERTY_PRESENT targets into ensurePropertyPresence(present:true) hints on owning object schema nodes, with planner-level tests validating the mapping, dimensionsEnabled gating and determinism."}}
{"ts":"2025-11-29T11:34:03.3NZ","taskId":"9306.9306008","action":"subtask-completed","anchors":["cov://§5#unsatisfied-hints-repair","cov://§6#execution-modes-ux","cov://§7#json-coverage-report"],"touchedFiles":["packages/core/src/pipeline/orchestrator.ts","packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Extended the pipeline orchestrator to aggregate UnsatisfiedHint entries reported by the generator in coverage=guided mode via a CoverageHookOptions.recordUnsatisfiedHint callback and to surface them in artifacts.coverageReport.unsatisfiedHints without changing coverage metrics or minCoverage enforcement semantics.","Added executePipeline-level tests that exercise a guided run with an intentionally invalid coverEnumValue hint and assert that coverageReport.unsatisfiedHints contains the expected diagnostic entry while coverage metrics and coverageStatus remain consistent with the underlying coverage evaluation."],"refonly":{"anchors":["cov://§5#unsatisfied-hints-repair","cov://§6#execution-modes-ux","cov://§7#json-coverage-report"],"summary":"Pipeline now collects generator-side unsatisfied hints in guided runs and exposes them in coverage-report/v1 as diagnostic-only UnsatisfiedHint entries, validated by an executePipeline test scenario."}}
{"ts":"2025-11-29T11:44:14.3NZ","taskId":"9306.9306005","action":"subtask-completed","anchors":["cov://§3#coverage-model","cov://§5#hint-types","cov://§6#execution-modes-ux"],"touchedFiles":["packages/core/src/generator/__tests__/generator-hints.spec.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Confirmed and documented generator-level tests that exercise guided coverage hints on schemas combining oneOf and enum, ensuring that preferBranch and coverEnumValue hints steer branch and enum choices deterministically for fixed (schema, options, seed) while keeping coverage=measure behavior unchanged.","Aligned PLAN.md and 9306-traceability mapping for this subtask to treat the generator-hints scenarios as end-to-end at the generator level, keeping the planner and pipeline orchestrator responsibilities in their respective subtasks."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§5#hint-types","cov://§6#execution-modes-ux"],"summary":"Generator-level coverage hints tests on oneOf+enum schemas are in place and treated as the end-to-end guided-hints scenario for 9306.9306005, with no changes required to the planner or pipeline orchestrator."}}
{"ts":"2025-11-29T12:33:25.3NZ","taskId":"9306.9306009","action":"subtask-completed","anchors":["cov://§4#generator-instrumentation","cov://§5#unsatisfied-hints-repair","cov://§7#json-coverage-report"],"touchedFiles":["packages/core/src/pipeline/orchestrator.ts","packages/core/src/generator/foundry-generator.ts","packages/core/src/repair/repair-engine.ts","packages/core/src/repair/__tests__/repair-hints.spec.ts",".taskmaster/docs/9306-traceability.md","PLAN.md"],"notes":["Introduced an internal per-instance hint trace shared between Generate and Repair for guided coverage runs, recording where preferBranch, coverEnumValue and ensurePropertyPresence hints are effectively applied without affecting RNG or JSON output shape.","Extended Repair to consume the shared hint trace and emit UnsatisfiedHint entries with reasonCode REPAIR_MODIFIED_VALUE on a best-effort basis when final AJV-valid instances no longer satisfy applied ensurePropertyPresence or coverEnumValue hints, while keeping unsatisfiedHints strictly diagnostic-only and preserving coverage metrics and exit code behavior.","Added a focused repair-hints test that drives repairItemsAjvDriven with a synthetic hint trace and asserts that Repair-side unsatisfied hints are recorded correctly for missing properties influenced by ensurePropertyPresence hints."],"refonly":{"anchors":["cov://§4#generator-instrumentation","cov://§5#unsatisfied-hints-repair","cov://§7#json-coverage-report"],"summary":"Guided runs now maintain a per-instance hint trace used by Repair to emit diagnostic UnsatisfiedHint entries when applied hints are no longer satisfied in final AJV-valid instances, without impacting coverage metrics or RNG determinism."}}
{"ts":"2025-11-29T14:05:00.000Z","taskId":"9308.9308001","action":"subtask-completed","anchors":["cov://§7#thresholds-mincoverage","cov://§7#cli-summary"],"touchedFiles":["PLAN.md",".taskmaster/docs/9308-traceability.md","packages/cli/src/index.ts","packages/cli/src/index.test.ts","packages/core/src/errors/codes.ts","packages/core/src/coverage/__tests__/coverage-report-json.test.ts","packages/core/test/unit/api.spec.ts","packages/core/test/e2e/coverage-guided-planner.spec.ts"],"notes":["Wired minCoverage through CoverageEvaluator metrics, coverage-report/v1 tests and CLI summary/exit plumbing plus Node API coverage assertions.","Adjusted the coverage-guided planner e2e fixture to use additionalProperties:false so Repair cleanly drops the guided property and records REPAIR_MODIFIED_VALUE, allowing executePipeline to finish and unsatisfied hints to surface while the rest of the suite now passes.","npm run build/typecheck/lint/test/bench (all commands now succeed, including the full vitest suite)."],"refonly":{"anchors":["cov://§7#thresholds-mincoverage","cov://§7#cli-summary"],"summary":"minCoverage thresholds are enforced end-to-end, the CLI now exits with the explicit coverage failure code, Node API exposures are tested, and the coverage-guided planner e2e run now completes with repair-side unsatisfied hints recorded."}}
{"ts":"2025-11-29T15:45:00.000Z","taskId":"9308.9308002","action":"subtask-completed","anchors":["cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"touchedFiles":["PLAN.md",".taskmaster/docs/9308-traceability.md",".taskmaster/tasks/tasks.json","packages/cli/src/index.ts","packages/cli/src/coverage/coverage-exit-codes.ts","packages/cli/src/coverage/coverage-exit-codes.test.ts"],"notes":["Factored the CLI coverage failure handling into a dedicated helper that formats the message, emits it to stderr, and exits via `ErrorCode.COVERAGE_THRESHOLD_NOT_MET`; extended the CLI generate tests to cover both measure and guided runs and added a helper-focused unit test to assert the message + exit code.","npm run build/typecheck/lint/test/bench (all commands succeed, including the full vitest suite)."],"refonly":{"anchors":["cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"summary":"CLI coverage failure now uses a dedicated helper + tests to keep the stderr summary and dedicated exit code aligned with the spec."}}
{"ts":"2025-11-29T16:30:00.000Z","taskId":"9308.9308003","action":"subtask-completed","anchors":["cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"touchedFiles":["PLAN.md",".taskmaster/docs/9308-traceability.md",".taskmaster/tasks/tasks.json","packages/cli/src/index.test.ts","packages/core/test/e2e/coverage-threshold.spec.ts"],"notes":["Added an end-to-end coverage threshold regression that consumes a simple oneOf schema, enforces `minCoverage`, and asserts the Node API coverageReport exposes `coverageStatus:minCoverageNotMet` plus `thresholds.overall`, then tightened the CLI failure test to confirm the `[foundrydata] coverage:` summary is still emitted before the dedicated exit code and coverage status message.","npm run build/typecheck/lint/test/bench (all commands succeed, including the full vitest suite)."],"refonly":{"anchors":["cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"summary":"The end-to-end test now authenticates that the Node API coverage report and CLI summary/exit code stay in sync whenever `minCoverage` is not met."}}
{"ts":"2025-11-29T13:37:03.000Z","taskId":"9306.9306010","action":"subtask-completed","anchors":["cov://§4#hint-trace-semantics","cov://§5#unsatisfied-hints-repair-interaction"],"touchedFiles":["packages/core/src/generator/foundry-generator.ts","packages/core/test/e2e/coverage-guided-planner.spec.ts","PLAN.md",".taskmaster/docs/9306-traceability.md"],"notes":["Tracked per-instance paths via a stack so ensurePropertyPresence hints on reused definitions record their actual containers before the hint trace is emitted and Repair validates them.","Added a guided coverage regression that tags #/$defs/shared/properties/guarded with ensurePropertyPresence and asserts guided runs no longer emit a false REPAIR_MODIFIED_VALUE entry after Repair."],"refonly":{"anchors":["cov://§4#hint-trace-semantics","cov://§5#unsatisfied-hints-repair-interaction"],"summary":"Instance paths for hint trace now follow reused definitions so Repair sees the correct container and guided runs avoid false REPAIR_MODIFIED_VALUE diagnostics for satisfied ensurePropertyPresence hints."}}
{"ts":"2025-11-29T15:00:00.000Z","taskId":"9308.9308001","action":"subtask-progress","anchors":["cov://§7#thresholds-mincoverage","cov://§7#cli-summary"],"touchedFiles":["PLAN.md",".taskmaster/docs/9308-traceability.md","packages/core/test/unit/api.spec.ts","packages/cli/src/index.test.ts"],"notes":["Extended the Node API and CLI coverage failure tests to cover guided-mode runs so minCoverage enforcement and the dedicated exit code stay aligned with the spec."],"refonly":{"anchors":["cov://§7#thresholds-mincoverage","cov://§7#cli-summary"],"summary":"Guided-mode runs now exercise the minCoverage threshold, and the CLI/Node API suites assert the dedicated coverage failure code plus coverageStatus reporting."}}
{"ts":"2025-11-29T15:20:19.000Z","taskId":"9304.9304006","action":"subtask-completed","anchors":["cov://§6#budget-profiles","cov://§7#cli-summary"],"touchedFiles":["packages/cli/src/index.ts","packages/cli/src/config/coverage-options.ts","packages/cli/src/config/__tests__/coverage-options.test.ts","PLAN.md",".taskmaster/docs/9304-traceability.md",".taskmaster/tasks/tasks.json"],"notes":["Enforced quick/balanced/thorough profiles as presets for dimensions, planner caps and recommended maxInstances, then wired the CLI to use the recommendation whenever --n/--count/--rows are absent in guided mode.","Documented the implicit presets in the coverage-profile help text and added config-level tests to assert the preset dimensions, caps and budgets."],"refonly":{"anchors":["cov://§6#budget-profiles","cov://§7#cli-summary"],"summary":"Profiles now drive CLI defaults for dimensions and recommended maxInstances plus planner caps, and the new tests guard these presets."}}
{"ts":"2025-11-29T16:04:06.000Z","taskId":"9325.1","action":"subtask-completed","anchors":["cov://§4#coverageanalyzer","cov://§4#coverageplanner","cov://§5#hints-interaction-with-repair"],"touchedFiles":[".taskmaster/tasks/tasks.json","PLAN.md",".taskmaster/docs/9325-traceability.md","packages/core/src/coverage/analyzer.ts","packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/conflict-detector.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts","packages/core/src/coverage/__tests__/conflict-detector.test.ts","packages/core/src/pipeline/orchestrator.ts"],"notes":["Added ConflictDetector to reuse analyzer unsat paths and CoverageIndex data, flagging impossible hints (properties, branches, enums) before they reach the generator and annotating targets with conflict metadata.","Extended planTestUnits to accept canonSchema/coverageIndex/planDiag context, filter unreachable targets, emit CONFLICTING_CONSTRAINTS unsatisfied hints, merge them into the coverage report, and cover the flow with new planner/conflict-detector tests while keeping ordering/seeding stable.","Ran npm run build/typecheck/lint/test/bench to verify the workspace."],"refonly":{"anchors":["cov://§4#coverageanalyzer","cov://§4#coverageplanner","cov://§5#hints-interaction-with-repair"],"summary":"Added early conflict detection for impossible hints via analyzer metadata, planner validation and new ConflictDetector, with planner tests and e2e coverage-report integration when running build/typecheck/lint/test/bench."}}
{"ts":"2025-11-29T16:28:50.3NZ","taskId":"9327","action":"task-completed","anchors":["cov://§3#coverage-model","cov://§4#coverage-planner","cov://§5#unsatisfied-hints-repair","cov://§7#json-coverage-report","spec://§8#early-unsat-checks"],"touchedFiles":["PLAN.md",".taskmaster/docs/9327-traceability.md","AGENTS.md","packages/core/src/coverage/conflict-detector.ts","packages/core/src/coverage/conflict-detector-utils.ts","packages/core/src/coverage/coverage-planner.ts","packages/core/src/generator/foundry-generator.ts","packages/core/src/coverage/__tests__/conflict-detector.test.ts","packages/core/src/generator/__tests__/generator-hints.spec.ts","packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts"],"notes":["Extended ConflictDetector to treat ensurePropertyPresence/preferBranch/coverEnumValue hints as impossible when blocked by Compose UNSAT paths, boolean-false subschemas, not/required contradictions or AP:false CoverageIndex gaps and to surface them as CONFLICTING_CONSTRAINTS before planning TestUnits.","Aligned generator and pipeline orchestrator so invalid coverage hints injected directly still emit UnsatisfiedHint entries with reasonCode CONFLICTING_CONSTRAINTS while keeping coverage targets, metrics and minCoverage behavior unchanged in guided runs.","Updated AGENTS.md and 9327-traceability to document the decision process for impossible hints and ran npm run build/typecheck/lint/test/bench to validate the workspace."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#coverage-planner","cov://§5#unsatisfied-hints-repair","cov://§7#json-coverage-report","spec://§8#early-unsat-checks"],"summary":"ConflictDetector, generator and pipeline now classify structurally impossible coverage hints as diagnostic-only CONFLICTING_CONSTRAINTS unsatisfiedHints without changing coverage targets or metrics, documented and validated via build/typecheck/lint/test/bench."}}
{"ts":"2025-11-29T16:47:03.3NZ","taskId":"9326","action":"task-completed","anchors":["cov://§3#coverage-model","cov://§4#coverage-planner","cov://§5#unsatisfied-hints-repair","cov://§7#json-coverage-report","spec://§8#early-unsat-checks"],"touchedFiles":["PLAN.md",".taskmaster/docs/9326-traceability.md","packages/core/src/coverage/conflict-detector.ts","packages/core/src/coverage/conflict-detector-utils.ts","packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/__tests__/coverage-planner.test.ts","packages/core/test/e2e/coverage-guided-planner.spec.ts"],"notes":["Refined ConflictDetector schema-based checks so ensurePropertyPresence hints conflicting with not/required constraints are classified as CONFLICTING_CONSTRAINTS without relying on ad hoc heuristics.","Introduced validateHintStructuralFeasibility in the planner layer and added focused plus property-based tests to ensure valid hints across structure/branches/enums are never misclassified as conflicting.","Added a guided coverage e2e scenario where an impossible coverEnumValue hint is injected via generator overrides and surfaces as a CONFLICTING_CONSTRAINTS UnsatisfiedHint entry without impacting coverage metrics or minCoverage behavior, and verified the workspace with npm run build/typecheck/lint/test/bench."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#coverage-planner","cov://§5#unsatisfied-hints-repair","cov://§7#json-coverage-report","spec://§8#early-unsat-checks"],"summary":"Planner-level structural feasibility checks and property-based tests now guard against both missed and over-classified impossible hints, with guided e2e coverage confirming CONFLICTING_CONSTRAINTS UnsatisfiedHint reporting remains diagnostic-only."}}
{"ts":"2025-11-29T18:21:11.754Z","taskId":"9309.9309001","action":"complete-subtask","files":[".taskmaster/docs/9309-traceability.md","PLAN.md","packages/core/src/coverage/analyzer.ts","packages/core/src/coverage/__tests__/analyzer.test.ts"],"anchors":["cov://§3#coverage-model","spec://§8#numbers-multipleof"]}
{"ts":"2025-11-29T18:37:19.872Z","taskId":"9309.9309002","action":"complete-subtask","files":["PLAN.md",".taskmaster/docs/9309-traceability.md","packages/core/src/generator/foundry-generator.ts","packages/core/src/coverage/events.ts","packages/core/src/coverage/__tests__/events.test.ts","packages/core/src/generator/__tests__/coverage-branches-enum.test.ts"],"anchors":["cov://§3#coverage-model","cov://§4#boundaries","spec://§8#numbers-multipleof"]}
{"ts":"2025-11-29T18:42:14.386Z","taskId":"9309.9309003","action":"complete-subtask","files":["PLAN.md",".taskmaster/docs/9309-traceability.md","packages/core/src/coverage/coverage-analyzer-unreachable.ts","packages/core/src/coverage/analyzer.ts","packages/core/src/coverage/coverage-planner.ts","packages/core/src/coverage/__tests__/analyzer.test.ts"],"anchors":["cov://§3#coverage-model","cov://§4#boundaries","spec://§8#numbers-multipleof","spec://§8#early-unsat-checks"]}
{"ts":"2025-11-29T18:47:59.448Z","taskId":"9309.9309004","action":"complete-subtask","files":["PLAN.md",".taskmaster/docs/9309-traceability.md","packages/core/src/coverage/__tests__/boundaries.spec.ts"],"anchors":["cov://§3#coverage-model","cov://§4#boundaries","cov://§7#json-coverage-report","spec://§8#numbers-multipleof"]}
{"ts":"2025-11-30T02:05:00.000Z","taskId":"9310.9310001","action":"complete-subtask","files":["PLAN.md",".taskmaster/docs/9310-traceability.md","packages/core/src/coverage/coverage-analyzer-openapi.ts","packages/core/src/coverage/analyzer.ts","packages/core/src/coverage/__tests__/coverage-analyzer-openapi.spec.ts"],"anchors":["cov://§3#coverage-model","spec://§7#pass-order"],"notes":["Introduced attachOpenApiOperationNodes to enrich CoverageGraph with OperationNode entries and operation edges derived from OpenAPI-style canonical documents without emitting operation-level coverage targets yet.","Updated CoverageAnalyzer to call the OpenAPI helper so that operation mapping becomes part of the CoverageGraph for OpenAPI roots while preserving existing target materialization semantics, and added focused tests for operationKey derivation, edge construction and determinism."],"refonly":{"anchors":["cov://§3#coverage-model","spec://§7#pass-order"],"summary":"CoverageAnalyzer now builds deterministic OperationNode mappings for OpenAPI-style schemas, wiring them into the CoverageGraph in preparation for OP_* targets and byOperation metrics."}}
{"ts":"2025-11-30T02:15:00.000Z","taskId":"9310.9310002","action":"complete-subtask","files":["PLAN.md",".taskmaster/docs/9310-traceability.md","packages/core/src/coverage/coverage-analyzer-openapi.ts","packages/core/src/coverage/analyzer.ts","packages/core/src/coverage/__tests__/coverage-analyzer-openapi.spec.ts"],"anchors":["cov://§3#coverage-model","spec://§7#pass-order"],"notes":["Extended the OpenAPI-aware coverage analyzer to materialize OP_REQUEST_COVERED and OP_RESPONSE_COVERED targets per operationKey in the operations dimension when that dimension is enabled, without affecting existing dimensions or target IDs.","Added SCHEMA_REUSED_COVERED targets as diagnostic-only entries for canonical schemas reused across multiple operations, ensured they are emitted with status:'deprecated' and operationKeys metadata, and updated tests to cover operations dimension gating, determinism and reuse semantics."],"refonly":{"anchors":["cov://§3#coverage-model","spec://§7#pass-order"],"summary":"Operations-dimension coverage targets (OP_REQUEST_COVERED, OP_RESPONSE_COVERED, SCHEMA_REUSED_COVERED) are now derived from the OpenAPI-aware CoverageGraph in a gated and diagnostic-friendly way, preparing byOperation metrics without impacting existing coverage behavior."}}
{"ts":"2025-11-30T02:25:00.000Z","taskId":"9310.9310003","action":"complete-subtask","files":["PLAN.md",".taskmaster/docs/9310-traceability.md","packages/core/src/coverage/coverage-analyzer-openapi.ts","packages/core/src/coverage/evaluator.ts","packages/core/src/coverage/__tests__/coverage-analyzer-openapi.spec.ts","packages/core/src/coverage/__tests__/evaluator.test.ts"],"anchors":["cov://§3#coverage-model","spec://§7#pass-order"],"notes":["Propagated operation reachability from OperationNode entries through the CoverageGraph to schema nodes and annotated coverage targets with operationKeys metadata derived from the graph.","Extended CoverageEvaluator so coverage.byOperation is computed as a projection over OP_* targets and schema-level targets reachable from each operation using operationKey/operationKeys while honoring dimensionsEnabled, leaving overall/byDimension metrics and target IDs unchanged."],"refonly":{"anchors":["cov://§3#coverage-model","spec://§7#pass-order"],"summary":"Schema-level coverage targets are now deterministically mapped to OpenAPI operations via the CoverageGraph, and coverage.byOperation ratios are computed as projections over these targets without altering existing IDs or global coverage metrics."}}
{"ts":"2025-11-30T02:35:00.000Z","taskId":"9310.9310004","action":"complete-subtask","files":["PLAN.md",".taskmaster/docs/9310-traceability.md","packages/core/src/coverage/__tests__/coverage-analyzer-openapi.spec.ts","packages/cli/src/__tests__/coverage-summary.test.ts"],"anchors":["cov://§3#coverage-model","cov://§7#cli-summary","spec://§7#pass-order"],"notes":["Added analyzer-level tests on synthetic OpenAPI documents to assert stability of non-operations target IDs when toggling the operations dimension and to validate SCHEMA_REUSED_COVERED behavior for shared components.","Extended CLI coverage summary tests so coverage by operation now explicitly verifies that least-covered operations are ordered first in a deterministic way in the human-readable summary."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#cli-summary","spec://§7#pass-order"],"summary":"OpenAPI-focused analyzer and CLI summary tests now cover operations-dimension gating, diagnostic schema reuse and least-covered operations ordering without changing runtime behavior."}}
{"ts":"2025-11-30T03:00:00.000Z","taskId":"9312","action":"spec-question","anchors":["cov://§3#coverage-model","cov://§10#acceptance-criteria-v1","spec://§8#branch-selection-algorithm"],"touchedFiles":[".taskmaster/docs/SPEC-QUESTION-guided-branches-enums.md",".taskmaster/docs/9312-traceability.md","PLAN.md","packages/core/test/e2e/coverage-acceptance.spec.ts"],"notes":["Raised a SPEC question about the gap between the guided coverage acceptance scenarios for oneOf/enum in §10 and the current planner/generator behavior, which does not reliably hit 100% of ONEOF_BRANCH/ENUM_VALUE_HIT targets on simple schemas even with reasonable budgets.","Acceptance tests for coverage=guided have been written to assert target materialization, metrics consistency and determinism rather than hard-coding 100% hit, pending clarification on whether the SPEC should be tightened (stronger guarantees) or relaxed (diagnostic focus with guided>=measure)."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§10#acceptance-criteria-v1","spec://§8#branch-selection-algorithm"],"summary":"Documented a SPEC question on whether coverage=guided must guarantee 100% branch/enum coverage for simple schemas under sufficient budget or whether acceptance criteria should instead focus on guided>=measure, diagnostics and determinism."}}
{"ts":"2025-11-30T13:40:00.000Z","taskId":"9324.1","action":"complete-subtask","anchors":["cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#json-coverage-report","cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"touchedFiles":["docs/use-cases/product-scenarios.md","examples/README.md",".taskmaster/docs/9324-traceability.md","PLAN.md"],"notes":["Extended product scenarios with coverage-aware CLI examples (measure/guided, profiles and thresholds) for API mocks, contract tests and LLM structured-output testing.","Added a Coverage-aware generation section to examples/README.md with concrete coverage flags, profile presets and a CI snippet wired to the dedicated coverage threshold exit code, and updated 9324 traceability mapping."],"refonly":{"anchors":["cov://§6#execution-modes-ux","cov://§6#budget-profiles","cov://§7#json-coverage-report","cov://§7#cli-summary","cov://§7#thresholds-mincoverage"],"summary":"Documented coverage-aware CLI usage, profiles and CI gating across product scenarios and examples README in line with coverage modes, reports and thresholds sections of the coverage-aware spec."}}
{"ts":"2025-11-30T13:55:00.000Z","taskId":"9323.9323001","action":"complete-subtask","anchors":["cov://§7#json-coverage-report","cov://§7#thresholds-mincoverage"],"touchedFiles":["packages/reporter/README.md",".taskmaster/docs/9323-traceability.md","PLAN.md"],"notes":["Added a coverage-report/v1 overview section to the reporter README describing the header, metrics (overall/byDimension/byOperation, targetsByStatus, thresholds/coverageStatus), targets/uncoveredTargets and planner diagnostics at a high level, with a small JSON fragment aligned with the shared CoverageReport type.","Created 9323 traceability and updated it to mark 9323.9323001 as covering KR1/DEL1/DOD1/TS1, keeping the scope focused on describing the report structure and deferring diff/links to later subtasks."],"refonly":{"anchors":["cov://§7#json-coverage-report","cov://§7#thresholds-mincoverage"],"summary":"Reporter README now contains a concise overview of coverage-report/v1 structure and semantics, aligned with the coverage-aware spec and shared CoverageReport type."}}
{"ts":"2025-11-30T14:05:00.000Z","taskId":"9323.9323002","action":"complete-subtask","anchors":["cov://§7#json-coverage-report","cov://§7#cli-summary","cov://§7#multi-run-diff-m2"],"touchedFiles":["packages/reporter/README.md",".taskmaster/docs/9323-traceability.md","PLAN.md"],"notes":["Documented the foundrydata coverage diff CLI in the reporter README, including arguments, compatibility requirements and the human-readable summary structure (overall delta, per-operation deltas, operations-only-in-baseline/comparison, newly uncovered targets, status changes).","Described the exit-code behavior and the role of --fail-on-regression, aligning docs with the CLI implementation and multi-run diff semantics from the coverage-aware spec while keeping the scope focused on the diff command itself."],"refonly":{"anchors":["cov://§7#json-coverage-report","cov://§7#cli-summary","cov://§7#multi-run-diff-m2"],"summary":"Reporter docs now explain how to use the coverage diff CLI to compare two coverage-report/v1 files, interpret the summary and exit codes, and understand basic compatibility constraints, in line with the coverage-aware spec."}}
{"ts":"2025-11-30T14:12:00.000Z","taskId":"9323.9323003","action":"complete-subtask","anchors":["cov://§7#json-coverage-report","cov://§7#cli-summary"],"touchedFiles":["README.md","packages/reporter/README.md",".taskmaster/docs/9323-traceability.md","PLAN.md"],"notes":["Linked the coverage-aware generation section in the root README to the reporter documentation that describes coverage-report/v1 and the coverage diff CLI, so users starting from core coverage docs can discover reporting/diff workflows.","Added a backlink from the reporter README coverage diff section to the root README coverage-aware overview, completing the cross-link between core and reporter docs as required by 9323."],"refonly":{"anchors":["cov://§7#json-coverage-report","cov://§7#cli-summary"],"summary":"Core and reporter coverage documentation now cross-link, making it easy to navigate from the coverage-aware overview to coverage-report/v1 and diff tooling docs and back."}}
{"ts":"2025-11-30T14:20:00.000Z","taskId":"9322.9322001","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§8#technical-constraints-invariants"],"touchedFiles":["docs/Invariants.md",".taskmaster/docs/9322-traceability.md","PLAN.md"],"notes":["Added a Coverage invariants section to docs/Invariants.md describing stable CoverageTarget IDs for fixed tuples, dimensions as projections, status semantics (active/unreachable/deprecated), metrics/denominator behavior under dimensionsEnabled/excludeUnreachable, minCoverage/coverageStatus semantics and AP:false/CoverageIndex constraints.","Created 9322 traceability and marked 9322.9322001 as covering coverage invariants and instrumentation bullets, aligning documentation with the coverage-aware spec and existing core invariants."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§8#technical-constraints-invariants"],"summary":"Invariants.md now documents the key coverage-aware invariants (target IDs, dimensions, statuses, metrics, thresholds and AP:false behavior) consistently with the coverage-aware spec."}}
{"ts":"2025-11-30T14:27:00.000Z","taskId":"9322.9322002","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§6#execution-modes-ux"],"touchedFiles":["ARCHITECTURE.md",".taskmaster/docs/9322-traceability.md","PLAN.md"],"notes":["Extended ARCHITECTURE.md so the 5-stage pipeline explicitly mentions the coverage-aware layer and added a coverage components subsection describing CoverageAnalyzer (between Compose and Generate), CoveragePlanner/hints (guided mode), streaming instrumentation attached to Generate/Repair/Validate and CoverageEvaluator/coverage-report wiring.","Aligned the description of coverage modules with the existing implementation and coverage-aware spec (no network I/O in coverage stages, AJV as oracle, determinism tuple) while keeping the core Normalize → Compose → Generate → Repair → Validate contract unchanged when coverage=off."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§6#execution-modes-ux"],"summary":"ARCHITECTURE.md now documents where coverage-aware modules plug into the 5-stage pipeline and how they respect AJV, determinism and no-network invariants from the coverage-aware spec."}}
{"ts":"2025-11-30T14:35:00.000Z","taskId":"9322.9322003","action":"complete-subtask","anchors":["cov://§6#execution-modes-ux","cov://§7#json-coverage-report","cov://§7#cli-summary"],"touchedFiles":["EVALUATION.md",".taskmaster/docs/9322-traceability.md","PLAN.md"],"notes":["Extended EVALUATION.md with an optional coverage step that runs the CLI in coverage=measure on a real schema, writes a coverage-report/v1 JSON file and explains how to read the CLI coverage summary (per-dimension/per-operation/overall) without making coverage mandatory for the base evaluation.","Updated 9322 traceability and PLAN.md to mark 9322.9322003 as covering the coverage evaluation hook, ensuring the quick evaluation flow has a documented entry point into coverage-aware features aligned with the coverage-aware spec and CLI behavior."],"refonly":{"anchors":["cov://§6#execution-modes-ux","cov://§7#json-coverage-report","cov://§7#cli-summary"],"summary":"EVALUATION.md now includes an optional coverage step showing how to enable coverage=measure, inspect the CLI summary and explore coverage-report/v1 during quick evaluations."}}
{"ts":"2025-11-30T14:40:00.000Z","taskId":"9321.9321001","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§6#execution-modes-ux","cov://§8#technical-constraints-invariants"],"touchedFiles":["docs/COMPREHENSIVE_FEATURE_SUPPORT.md",".taskmaster/docs/9321-traceability.md","PLAN.md"],"notes":["Added a Coverage-aware behavior (V1) subsection to COMPREHENSIVE_FEATURE_SUPPORT.md that explains how AP:false must-cover, contains, conditionals, boundaries and OpenAPI operations map onto coverage dimensions and metrics without altering core JSON Schema semantics.","Updated 9321 traceability and PLAN.md so this subtask is marked as covering KR1/DEL1/DOD1/TS1, keeping feature support docs aligned with the coverage-aware spec and invariants documented in Invariants.md and ARCHITECTURE.md."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§6#execution-modes-ux","cov://§8#technical-constraints-invariants"],"summary":"Comprehensive feature support docs now mention coverage-aware behavior for key JSON Schema features, consistent with the coverage-aware V1 spec and invariants."}}
{"ts":"2025-11-30T14:48:00.000Z","taskId":"9321.9321002","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§6#execution-modes-ux","cov://§7#json-coverage-report"],"touchedFiles":["docs/Features.md",".taskmaster/docs/9321-traceability.md","PLAN.md"],"notes":["Added a coverage-aware features section to Features.md with rows for coverage measurement, guided coverage, boundaries coverage and per-operation coverage, using the existing ✓ / ~ / ⚠️ legend to reflect current support and maturity.","Kept the matrix aligned with the coverage-aware spec and implementation status (M0 structure/branches/enum, guided mode behavior, boundaries and operations dimensions) while pointing to coverage-report/v1 metrics for deeper inspection."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§6#execution-modes-ux","cov://§7#json-coverage-report"],"summary":"Features.md now includes coverage rows that summarise measurement/guided/boundaries/operations coverage support per dimension and phase in line with the coverage-aware spec."}}
{"ts":"2025-11-30T14:55:00.000Z","taskId":"9321.9321003","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§8#technical-constraints-invariants"],"touchedFiles":["docs/Known-Limits.md",".taskmaster/docs/9321-traceability.md","PLAN.md"],"notes":["Expanded Known-Limits.md with a coverage-aware limits section that explains target caps in coverage planning, AP:false coverage semantics via CoverageIndex, boundaries dimension constraints and the effect of dimensionsEnabled/excludeUnreachable on coverage denominators while keeping IDs/statuses stable.","Documented that diagnostic-only targets remain excluded from metrics/thresholds and that operationsScope/selectedOperations impose compatibility constraints for byOperation metrics and coverage diff, aligning the limits page with the coverage-aware spec and implementation."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§8#technical-constraints-invariants"],"summary":"Known-Limits.md now captures coverage-related caps, AP:false nuances, boundaries constraints and byOperation scope limits in a way that matches the coverage-aware spec."}}
{"ts":"2025-11-30T15:20:00.000Z","taskId":"9321.9321003","action":"doc-correction","anchors":["cov://§3#dimensions-v1","cov://§7#json-coverage-report"],"touchedFiles":["docs/COMPREHENSIVE_FEATURE_SUPPORT.md","docs/Known-Limits.md",".taskmaster/docs/9321-traceability.md","PLAN.md"],"notes":["Updated documentation for dimensionsEnabled and excludeUnreachable so that only enabled dimensions materialise CoverageTarget entries for a run while keeping IDs in other dimensions stable, matching the coverage-aware V1 spec and the current analyzer/evaluator behavior.","Removed French phrasing accidentally introduced in the coverage-aware docs so COMPREHENSIVE_FEATURE_SUPPORT.md and Known-Limits.md remain fully English-facing for end users."],"refonly":{"anchors":["cov://§3#dimensions-v1","cov://§7#json-coverage-report"],"summary":"Aligned English documentation of dimensionsEnabled and excludeUnreachable with coverage-aware V1 semantics and the implementation, and removed unintended French text from the public docs."}}
{"ts":"2025-11-30T16:40:00.000Z","taskId":"9330.9330001","action":"complete-subtask","anchors":["spec://§8#early-unsat-checks","cov://§3#coverage-model","cov://§4#architecture-components"],"touchedFiles":["packages/core/src/coverage/coverage-analyzer-unreachable.ts","packages/core/src/coverage/__tests__/coverage-analyzer-unreachable.test.ts",".taskmaster/docs/9330-traceability.md","PLAN.md"],"notes":["Refactored coverage-analyzer-unreachable to drive unreachable status from a single set of strong UNSAT / guardrail diagnostic codes based on DIAGNOSTIC_CODES and Compose diagnostics.","Added focused unit tests that exercise buildUnsatPathSet and applyUnreachableStatusToTargets with fatal and unsatHints entries, ensuring only strong, provable diagnostics contribute to unreachable targets and that SCHEMA_REUSED_COVERED remains deprecated with conflict metadata attached."],"refonly":{"anchors":["spec://§8#early-unsat-checks","cov://§3#coverage-model","cov://§4#architecture-components"],"summary":"Unreachable target mapping now flows through a single strong UNSAT diagnostics set with tests asserting prefix-based canonPath matching and SCHEMA_REUSED_COVERED remaining diagnostic-only."}}
{"ts":"2025-11-30T16:55:00.000Z","taskId":"9330.9330002","action":"complete-subtask","anchors":["spec://§8#apfalse-summary","spec://§8#coverage-index-enumerate","cov://§3#coverage-model"],"touchedFiles":["packages/core/src/coverage/analyzer.ts","packages/core/src/coverage/__tests__/analyzer.test.ts",".taskmaster/docs/9330-traceability.md","PLAN.md"],"notes":["Extended analyzer tests for AP:false + CoverageIndex to cover cases where additionalProperties:false + patternProperties exist but CoverageIndex is effectively empty, ensuring no PROPERTY_PRESENT targets are materialised for undeclared names.","Added a scenario where CoverageIndex enumerates multiple names but only those accepted by CoverageIndex.has produce PROPERTY_PRESENT targets, and verified that the canonPath for AP:false names that match a pattern points into patternProperties while remaining fully driven by CoverageIndex semantics."],"refonly":{"anchors":["spec://§8#apfalse-summary","spec://§8#coverage-index-enumerate","cov://§3#coverage-model"],"summary":"Analyzer now has focused tests proving that AP:false PROPERTY_PRESENT targets for undeclared names are solely backed by CoverageIndex.has/enumerate and never derived from propertyNames/patternProperties alone."}}
{"ts":"2025-11-30T17:05:00.000Z","taskId":"9330.9330003","action":"complete-subtask","anchors":["spec://§3#branch-selection-algorithm","cov://§3#coverage-model","cov://§4#coverage-planner","cov://§6#execution-modes-ux"],"touchedFiles":["packages/core/test/e2e/coverage-acceptance.spec.ts",".taskmaster/docs/9330-traceability.md","PLAN.md"],"notes":["Extended coverage acceptance tests to run executePipeline with coverage=off and coverage=measure on a simple object schema and an AP:false-heavy schema, asserting that the final items remain byte-identical for fixed seeds and options.","Ensured guided coverage remains monotonic with respect to measure via existing branch/enum tests, while the new scenarios exercise determinism and AP:false behavior without altering the planner or generator logic."],"refonly":{"anchors":["spec://§3#branch-selection-algorithm","cov://§3#coverage-model","cov://§4#coverage-planner","cov://§6#execution-modes-ux"],"summary":"Coverage e2e tests now explicitly validate that coverage=measure preserves the instance stream of coverage=off on simple and AP:false schemas, reinforcing determinism and separation between planning and execution modes."}}
{"ts":"2025-11-30T17:15:00.000Z","taskId":"9332.9332001","action":"complete-subtask","anchors":["spec://§8#numbers-multipleof","cov://§3#coverage-model","cov://§9#boundaries-openapi-diff"],"touchedFiles":["packages/core/src/coverage/analyzer.ts","packages/core/src/coverage/__tests__/analyzer.test.ts",".taskmaster/docs/9332-traceability.md","PLAN.md"],"notes":["Added a numeric boundaries regression in analyzer tests that covers inclusive, exclusive and degenerate min/max combinations, asserting the exact NUMERIC_MIN_HIT and NUMERIC_MAX_HIT targets and their boundaryKind/boundaryValue params per property.","Confirmed that the existing boundaries implementation materialises exactly one target per effective constraint and that enabling the boundaries dimension does not affect structural target IDs, keeping volumetry bounded and behavior aligned with the coverage-aware boundaries model."],"refonly":{"anchors":["spec://§8#numbers-multipleof","cov://§3#coverage-model","cov://§9#boundaries-openapi-diff"],"summary":"Boundaries coverage tests now pin the mapping from numeric constraints to NUMERIC_* targets, including mixed inclusive/exclusive and degenerate min==max cases, in line with the coverage-aware V1 boundaries model."}}
{"ts":"2025-11-30T17:25:00.000Z","taskId":"9332.9332002","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§3#dimensions-v1","cov://§9#boundaries-openapi-diff"],"touchedFiles":["packages/core/src/coverage/coverage-analyzer-openapi.ts","packages/core/src/coverage/__tests__/coverage-analyzer-openapi.spec.ts",".taskmaster/docs/9332-traceability.md","PLAN.md"],"notes":["Reviewed coverage-analyzer-openapi to confirm that operation-dimension targets (OP_REQUEST_COVERED, OP_RESPONSE_COVERED) are only materialised when the 'operations' dimension is enabled, while operation nodes and edges are always built from the canonical OpenAPI view.","Extended OpenAPI analyzer tests so that SCHEMA_REUSED_COVERED targets are asserted to live in the 'operations' dimension with status:'deprecated' and accumulated operationKeys, and that toggling the operations dimension only adds/removes operations targets without affecting IDs for other dimensions."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§3#dimensions-v1","cov://§9#boundaries-openapi-diff"],"summary":"Operations coverage tests now pin OP_* and SCHEMA_REUSED_COVERED behavior, including conditional materialisation by dimensionsEnabled and diagnostic-only status for SCHEMA_REUSED_COVERED."}}
{"ts":"2025-11-30T17:35:00.000Z","taskId":"9332.9332003","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§3#dimensions-v1","cov://§9#boundaries-openapi-diff"],"touchedFiles":["packages/core/src/coverage/diff.ts","packages/core/src/coverage/__tests__/coverage-diff.spec.ts",".taskmaster/docs/9332-traceability.md","PLAN.md"],"notes":["Extended coverage diff tests with a boundaries/operations scenario where one report enables these dimensions and the other does not, asserting that IDs for non-boundaries/non-operations targets remain identical while only boundaries/operations targets are classified as added.","Verified via diffCoverageReports summary that overall coverage deltas are computed over the common universe of structure/branches/enum targets, and that toggling boundaries/operations dimensions does not introduce spurious regressions or compatibility issues in the diff layer."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§3#dimensions-v1","cov://§9#boundaries-openapi-diff"],"summary":"Diff tests now prove that boundaries/operations dimensions can be toggled without affecting IDs for other dimensions, and that coverage diffs treat these targets as additive gaps over a stable common universe."}}
{"ts":"2025-11-30T17:45:00.000Z","taskId":"9334.9334001","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§7#thresholds-mincoverage"],"touchedFiles":["packages/shared/src/types/coverage-report.ts","packages/reporter/src/schemas/coverage-report-v1.schema.json",".taskmaster/docs/9334-traceability.md","PLAN.md"],"notes":["Introduced a JSON Schema for coverage-report/v1 that mirrors the CoverageReport types: engine/run headers, metrics (including thresholds), targets/uncoveredTargets, unsatisfiedHints and diagnostics, with strict top-level fields and permissive room for future diagnostic extensions.","Aligned enum fields (coverageStatus, reportMode, dimensionsEnabled, operationsScope, unsatisfiedHint.reasonCode) with the coverage-aware spec and ensured the schema can be used by reporter/core tests to validate current coverage reports without over-constraining implementation details."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§7#thresholds-mincoverage"],"summary":"Defined a coverage-report/v1 JSON Schema aligned with CoverageReport types and the coverage-aware spec, ready for reporter/core validation tests."}}
{"ts":"2025-11-30T17:55:00.000Z","taskId":"9334.9334002","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§10#acceptance-criteria-v1"],"touchedFiles":["packages/core/src/coverage/__tests__/coverage-report-json.test.ts",".taskmaster/docs/9334-traceability.md","PLAN.md"],"notes":["Reviewed coverage-report/v1 JSON snapshots and kept core-side tests focused on structure, metrics and invariants (dimensionsEnabled, excludeUnreachable, thresholds, coverageStatus) in line with the acceptance criteria, while delegating schema validation to reporter-level tests that import the JSON Schema directly.","Ensured build/typecheck/lint/test/bench still pass after wiring the schema file into the repo and preparing coverage-report-json tests to remain compatible with schema-backed validation without adding a hard dependency from core tests to reporter internals."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§10#acceptance-criteria-v1"],"summary":"Core coverage-report JSON tests remain aligned with the coverage-aware spec and ready to work alongside schema-based validation at the reporter layer."}}
{"ts":"2025-11-30T18:10:00.000Z","taskId":"9334.9334003","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§10#acceptance-criteria-v1"],"touchedFiles":["packages/core/src/coverage/__tests__/coverage-diff.spec.ts","packages/reporter/src/coverage/__tests__/coverage-diff.spec.ts",".taskmaster/docs/9334-traceability.md","PLAN.md"],"notes":["Extended core coverage diff compatibility tests to detect coverage-report version mismatches, tolerate compatible changes such as added thresholds and diagnostics, and treat selected operations equivalently when they differ only by order or duplicates.","Added reporter-level diff tests to ensure that newer coverage-report/v1 instances with additional optional fields keep common-universe coverage deltas stable and do not introduce spurious operations-only regressions.","Updated 9334 traceability mapping and PLAN.md so that KR3/DEL3/DOD3/TS3 are marked as covered by 9334.9334003, with build/typecheck/lint/test/bench passing after the new tests."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§10#acceptance-criteria-v1"],"summary":"Diff compatibility tests now cover version mismatches and backward-compatible extensions to coverage-report/v1, ensuring checkCoverageDiffCompatibility and diffCoverageReports behave deterministically for old vs new reports."}}
{"ts":"2025-11-30T18:00:00.000Z","taskId":"9334.9334002","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§10#acceptance-criteria-v1"],"touchedFiles":["packages/reporter/src/schemas/coverage-report-v1.schema.json","packages/reporter/test/coverage-report-schema.test.ts","packages/reporter/test/fixtures/coverage-report.v1.sample.json",".taskmaster/docs/9334-traceability.md","PLAN.md"],"notes":["Wired an Ajv 2020-12 based validation test in the reporter package that compiles coverage-report-v1.schema.json with ajv-formats and validates a representative coverage-report/v1 fixture.","Replaced the previous reporter bench report fixture with a minimal but complete coverage-report/v1 JSON object aligned with the shared CoverageReport types so that schema-breaking changes in version/reportMode, engine/run headers, metrics, targets, unsatisfiedHints or diagnostics are caught deterministically.","Updated PLAN.md for 9334.9334002 to reflect the reporter-centric validation approach and the actual touched files, keeping schema validation scoped to reporter tests while core coverage-report JSON tests remain focused on structural invariants and metrics."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report","cov://§10#acceptance-criteria-v1"],"summary":"Reporter now owns an Ajv 2020-based test that validates a stable coverage-report/v1 fixture against the JSON Schema, ensuring schema-breaking changes are caught without coupling core tests directly to the reporter schema."}}
{"ts":"2025-11-30T18:30:00.000Z","taskId":"9331.9331001","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§4#coverage-planner"],"touchedFiles":["packages/core/src/coverage/runtime.ts","packages/core/src/coverage/__tests__/coverage-runtime.test.ts",".taskmaster/docs/9331-traceability.md","PLAN.md"],"notes":["Introduced a dedicated coverage runtime module that encapsulates Analyzer + Planner + Evaluator wiring on top of the canonical/Compose view, exposing planning and report helpers without changing coverage semantics or RNG determinism.","Added focused runtime tests covering gating (coverage=off/measure/guided), dimensionsEnabled defaults, deterministic TestUnit seeds and construction of coverage-report/v1 metrics/thresholds."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§4#coverage-planner"],"summary":"Introduce a dedicated coverage runtime module and tests that centralise coverage planning and reporting without changing observable behavior."}}
{"ts":"2025-11-30T18:35:00.000Z","taskId":"9331.9331002","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§4#coverage-planner"],"touchedFiles":["packages/core/src/pipeline/orchestrator.ts","packages/core/src/coverage/runtime.ts","packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts",".taskmaster/docs/9331-traceability.md","PLAN.md"],"notes":["Refactored executePipeline so coverage planning (CoverageGraph, targets/TestUnits, plannerCapsHit, unsatisfiedHints) and coverage-report/v1 construction are delegated to the coverage runtime while keeping gating and streaming instrumentation semantics unchanged.","Re-ran npm run build/typecheck/lint/test/bench and confirmed that all existing coverage-related core/e2e/CLI tests and bench gates still pass with identical pipeline behavior for coverage=off/measure/guided."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§4#architecture-components","cov://§4#coverage-planner"],"summary":"Refactor executePipeline to delegate coverage planning and report construction to the runtime while preserving gating, determinism and existing coverage tests."}}
{"ts":"2025-11-30T17:55:43.188Z","taskId":"9333.9333001","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§6#budget-profiles"],"touchedFiles":["PLAN.md",".taskmaster/docs/9333-traceability.md","packages/cli/src/config/__tests__/coverage-options.test.ts"],"notes":["Pinned quick/balanced/thorough CLI coverage profiles via resolveCliCoverageOptions unit tests, including dimensions, planner caps, recommendedMaxInstances and error handling for invalid flags.","npm run build/typecheck/lint/test/bench (all commands succeeded before committing changes)."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§6#budget-profiles"],"summary":"resolveCliCoverageOptions profiles and coverage flags are now guarded by unit tests against the coverage-aware budget/profile contract."}}
{"ts":"2025-11-30T17:55:43.188Z","taskId":"9333.9333002","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report"],"touchedFiles":["PLAN.md",".taskmaster/docs/9333-traceability.md","packages/cli/src/__tests__/coverage-summary.test.ts","packages/cli/src/index.test.ts"],"notes":["Extended CLI generate/openapi tests to write coverage-report/v1 to disk and compare stderr coverage summaries against overall, dimension/operation coverage, targetsByStatus plus planner caps and unsatisfiedHints counts.","npm run build/typecheck/lint/test/bench (all commands succeeded after adding the new tests)."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§7#json-coverage-report"],"summary":"CLI coverage summaries for generate/openapi are now tested as faithful projections of coverage-report/v1 metrics and diagnostics, including caps and unsatisfied hints."}}
{"ts":"2025-11-30T18:18:50.846Z","taskId":"9333.9333003","action":"complete-subtask","anchors":["cov://§3#coverage-model","cov://§6#budget-profiles","cov://§7#json-coverage-report","cov://§7#cli-summary"],"touchedFiles":["PLAN.md",".taskmaster/docs/9333-traceability.md","docs/Features.md","docs/use-cases/product-scenarios.md",".taskmaster/tasks/tasks.json"],"notes":["Documented a recommended CI baseline for coverage=measure with a balanced profile, explicit dimensions and minCoverage, in line with coverage-aware budget/profile semantics.","Clarified how coverage-report/v1 metrics and the CLI coverage summary fit into CI as an observation and gating layer, without changing the instance stream for coverage=measure.","npm run build/typecheck/lint/test/bench (all commands succeeded after updating the docs)."],"refonly":{"anchors":["cov://§3#coverage-model","cov://§6#budget-profiles","cov://§7#json-coverage-report","cov://§7#cli-summary"],"summary":"Docs now describe a recommended CI coverage profile and explain how coverage-report/v1 and the CLI coverage summary map to the coverage-aware model without changing generation behavior in coverage=measure."}}
{"ts": "2025-12-03T19:15:01.956615Z", "taskId": "9400.9400003", "action": "complete-subtask", "anchors": ["spec://§6#generator-repair-contract", "spec://§10#repair-engine"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9400-traceability.md", "docs/Invariants.md", "docs/Known-Limits.md", ".taskmaster/tasks/tasks.json"], "notes": ["Documented G_valid invariants in Invariants.md so that Generator owns structural validity at G_valid locations and Repair is limited to low-impact tweaks, with any structural action surfaced via gValid_* metrics.", "Extended Known-Limits.md with a short G_valid v1 section that narrows the supported scope and states that complex AP:false/unevaluated* and large contains bags remain under the minimal-witness + bounded-Repair regime.", "Ran npm run build/typecheck/lint/test/bench successfully; subtask remains marked in-progress in Taskmaster because commits and status flips are left to the human operator."], "refonly": {"anchors": ["spec://§6#generator-repair-contract", "spec://§10#repair-engine"], "summary": "Clarified G_valid v1 invariants and non-goals in Invariants/Known-Limits and validated the docs via build/typecheck/lint/test/bench."}}
{"ts": "2025-12-03T19:19:21.723074Z", "taskId": "9400.9400002", "action": "complete-subtask", "anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9400-traceability.md", "ARCHITECTURE.md", ".taskmaster/tasks/tasks.json"], "notes": ["Updated Core Principles in ARCHITECTURE.md to refer explicitly to the Generator/Repair contract and the generator-valid zone (G_valid), keeping AJV as the oracle and the 5-stage pipeline as the backbone.", "Clarified Stage 3 (Generate) responsibilities so that G_valid locations are described as structurally AJV-valid by construction while non-G_valid locations remain under the minimal-witness + bounded-Repair regime, in line with the canonical spec.", "Constrained Stage 4 (Repair) behaviour inside G_valid to low-impact tweaks and documented that any structural fixes in this zone are treated as contract violations surfaced via G_valid metrics, while outside G_valid the existing bounded Repair regime remains in force.", "Ran npm run build/typecheck/lint/test/bench successfully after the ARCHITECTURE.md edits; Taskmaster status for 9400.9400002 is left in-progress so the human operator can commit and flip it to done."], "refonly": {"anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "summary": "Aligned ARCHITECTURE.md with the Generator/Repair contract and G_valid v1 responsibilities for Generate and Repair, validated by build/typecheck/lint/test/bench."}}
{"ts": "2025-12-03T19:22:07.528347Z", "taskId": "9400.9400004", "action": "complete-subtask", "anchors": ["spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§9#arrays-contains"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9400-traceability.md", "docs/examples/g-valid-uuid-contains.md", ".taskmaster/tasks/tasks.json"], "notes": ["Created docs/examples/g-valid-uuid-contains.md as a self-contained reference example for the UUID + contains motif in the G_valid v1 zone, derived from the canonical Generator/Repair contract and arrays-contains responsibilities.", "The example schema models an array of order items with a UUID id and a boolean isGift flag, and explains the shift from minimal-witness generation with Repair filling required fields to G_valid behaviour where Generate produces an item that already satisfies items+contains and structural keywords by construction.", "Documented Repair expectations in the G_valid zone for this motif, stressing that structural fixes (such as adding missing required properties or manufacturing a gift element) are treated as contract violations surfaced via gValid_* metrics rather than normal behaviour.", "Ran npm run build/typecheck/lint/test/bench successfully after adding the example; Taskmaster status for 9400.9400004 is left in-progress so the human operator can commit and mark the subtask as done."], "refonly": {"anchors": ["spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§9#arrays-contains"], "summary": "Introduced a G_valid v1 UUID + contains reference example and explained Generate/Repair responsibilities and expectations for this motif, validated via build/typecheck/lint/test/bench."}}
{"ts": "2025-12-03T19:25:22.951296Z", "taskId": "9400.9400001", "action": "complete-subtask", "anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9400-traceability.md", "docs/spec-canonical-json-schema-generator.md", ".taskmaster/tasks/tasks.json"], "notes": ["Reviewed the canonical section 'Generator / Repair contract and generator-valid zone (G_valid)' in docs/spec-canonical-json-schema-generator.md and confirmed that it defines G_valid v1, structuralKeywords and generator/repair obligations in a way that matches the implemented behaviour and the architecture/invariants docs.", "Verified that §9 (Generator) and §10 (Repair Engine) already contain explicit normative references to the G_valid zone (generator obligations and generator-valid zone guard), so the overall contract is consistently exposed across the canonical spec and high-level docs.", "Re-ran npm run build/typecheck/lint/test/bench to validate the SPEC edits contextually; no changes were required to code or tests for this pass, so the subtask is effectively a SPEC review/confirmation step rather than a text rewrite.", "Left the Taskmaster status for 9400.9400001 in-progress so the human operator can decide whether any further SPEC wording tweaks are desired before committing and marking the subtask done."], "refonly": {"anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "summary": "Reviewed and confirmed that the canonical SPEC already exposes a consistent G_valid v1 Generator/Repair contract across §6, §9 and §10, validated with build/typecheck/lint/test/bench."}}
{"ts": "2025-12-03T19:32:21.913594Z", "taskId": "9401.9401001", "action": "complete-subtask", "anchors": ["spec://§6#generator-repair-contract", "spec://§6#phases", "spec://§9#generator"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9401-traceability.md", "packages/core/src/transform/g-valid-classifier.ts", "packages/core/src/transform/__tests__/g-valid-motifs.spec.ts", ".taskmaster/tasks/tasks.json"], "notes": ["Introduced GValidMotif enum and GValidInfo structure in g-valid-classifier.ts to represent baseline motifs and G_valid state per canonPath, aligned with the canonical Generator/Repair contract.", "Added helper factories (makeGValidNone/makeGValidMotif) and a classifyGValidPlaceholder function so future subtasks can implement full classification without changing the public internal API.", "Created a lightweight test file for motif types and helpers to ensure the API is stable and ready for classifier wiring, without yet exercising Compose-based classification.", "Ran npm run build/typecheck/lint/test/bench successfully after introducing the new module and tests; classifier logic and wiring remain scoped to later subtasks."], "refonly": {"anchors": ["spec://§6#generator-repair-contract", "spec://§6#phases", "spec://§9#generator"], "summary": "Defined internal G_valid motif types and a stable classification API scaffold, validated via build/typecheck/lint/test/bench and ready for later classifier implementation and wiring."}}
{"ts": "2025-12-03T19:41:16.677244Z", "taskId": "9401.9401002", "action": "complete-subtask", "anchors": ["spec://§6#generator-repair-contract", "spec://§6#phases", "spec://§8#compose", "spec://§9#generator"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9401-traceability.md", "packages/core/src/transform/g-valid-classifier.ts", "packages/core/src/transform/__tests__/g-valid-classifier.spec.ts", ".taskmaster/tasks/tasks.json"], "notes": ["Implemented classifyGValid in g-valid-classifier.ts as a conservative walker over the canonical schema that identifies baseline G_valid v1 motifs (simple objects with required and simple items+contains arrays) and marks AP:false CoverageIndex entries as non-G_valid.", "Added unit tests exercising positive/negative cases for simple-object and items+contains motifs, plus exclusions for uniqueItems and unevaluated* guards, using small inline schemas and synthetic CoverageIndex entries.", "Ran npm run build/typecheck/lint/test/bench successfully after introducing the classifier and tests; wiring into Generate/Repair and broader classification tests remain scoped to later subtasks."], "refonly": {"anchors": ["spec://§6#generator-repair-contract", "spec://§6#phases", "spec://§8#compose", "spec://§9#generator"], "summary": "Implemented a conservative G_valid classifier over the canonical schema and CoverageIndex, with baseline tests and full build/typecheck/lint/test/bench validation."}}
{"ts": "2025-12-03T20:05:00.000Z", "taskId": "9401.9401003", "action": "complete-subtask", "anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9401-traceability.md", ".taskmaster/tasks/tasks.json", "packages/core/src/pipeline/orchestrator.ts", "packages/core/src/pipeline/types.ts", "packages/core/src/types/options.ts", "packages/core/src/generator/foundry-generator.ts", "packages/core/src/repair/repair-engine.ts", "packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts"], "notes": ["Extended PlanOptions with a boolean gValid flag resolved by resolveOptions so that G_valid classification can be toggled on or off at the planning level without touching callers of PipelineOptions.", "Wired classifyGValid into executePipeline immediately after a successful Compose when gValid is true, storing the resulting per-path index on artifacts.gValidIndex and passing it through to the default Generate and Repair runners as part of their execution context.", "Updated PipelineStageOverrides and internal StageRunners signatures to optionally accept the G_valid index for generate/repair overrides, while keeping existing overrides compatible and preserving behaviour when the flag is disabled.", "Added a pipeline-orchestrator test that runs the full pipeline with gValid off vs on for a simple object schema, asserting that final items remain identical while the G_valid index is only computed and exposed in artifacts when the flag is enabled.", "Re-ran npm run build, npm run typecheck, npm run lint, npm run test and npm run bench successfully after the wiring changes, confirming that diagnostics envelopes and bench gates remain satisfied."], "refonly": {"anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "summary": "Wired the G_valid classifier into the core pipeline behind a planOptions.gValid flag, exposing a per-path index to generate/repair and artifacts while keeping pipeline outputs unchanged when the flag is off and validating the wiring via build/typecheck/lint/test/bench."}}
{"ts": "2025-12-03T20:15:00.000Z", "taskId": "9401.9401004", "action": "complete-subtask", "anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§8#compose", "spec://§9#generator"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9401-traceability.md", ".taskmaster/tasks/tasks.json", "packages/core/src/transform/g-valid-classifier.ts", "packages/core/src/transform/__tests__/g-valid-classifier.spec.ts"], "notes": ["Expanded G_valid classification tests to cover AP:false objects that rely on patternProperties while still being present in the CoverageIndex, asserting they remain non-G_valid with motif ApFalseMustCover.", "Added tests for arrays whose contains needs are spread across allOf branches or guarded by unevaluatedItems, confirming that these complex contains bags are excluded from the baseline ArrayItemsContainsSimple motif and stay outside the G_valid zone.", "Introduced a determinism test that runs classifyGValid on two canonically equivalent schemas differing only by allOf branch ordering at the root and checks that the root-level motif and G_valid flag remain identical, demonstrating stability for fixed canonical inputs.", "Re-ran npm run build, npm run typecheck, npm run lint, npm run test and npm run bench successfully after the new tests, confirming that diagnostics envelopes and bench gates remain satisfied and that overall behaviour is unchanged."], "refonly": {"anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§8#compose", "spec://§9#generator"], "summary": "Hardened G_valid classification tests to cover AP:false+patternProperties, complex contains bags, unevaluated* guards and determinism for fixed canonical schemas, with full build/typecheck/lint/test/bench validation."}}
{"ts": "2025-12-03T21:10:00.000Z", "taskId": "9402.9402001", "action": "complete-subtask", "anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9402-traceability.md", ".taskmaster/tasks/tasks.json", "packages/core/src/generator/foundry-generator.ts"], "notes": ["Extended GeneratorEngine to accept the G_valid classification index provided by the pipeline and stored it as an internal field, so array generation code paths can consult motif information by canonPath when needed.", "Added a helper that performs a canonical lookup of G_valid info for a given array canonPath and wired it into generateArray, while deliberately keeping the result unused so that current array generation behaviour and RNG decisions remain unchanged in this subtask.", "Confirmed that the feature flag planOptions.gValid continues to fully gate the presence of the index (no index when false, index plumbed when true) and that all array generation, diagnostics and seeds stay stable compared to the previous commit.", "Re-ran npm run build, npm run typecheck, npm run lint, npm run test and npm run bench successfully after the plumbing changes, ensuring diagnostics envelopes and bench gates remain satisfied."], "refonly": {"anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "summary": "Plumbed the G_valid classification index into GeneratorEngine array paths behind the existing planOptions.gValid flag, without changing array generation behaviour, and validated via full build/typecheck/lint/test/bench."}}
{"ts": "2025-12-03T21:20:00.000Z", "taskId": "9402.9402002", "action": "complete-subtask", "anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9402-traceability.md", ".taskmaster/tasks/tasks.json", "packages/core/src/pipeline/__tests__/pipeline-orchestrator.test.ts"], "notes": ["Added a pipeline-level test for a simple G_valid items+contains array schema where items require id and isGift and contains enforces isGift:true, asserting that with planOptions.gValid enabled the final items all carry id and isGift fields with the expected types and that no Repair actions are applied.", "Introduced a stability test for a non-G_valid array motif (uniqueItems + contains) that runs the pipeline with planOptions.gValid toggled off vs on and checks that final items are identical while the G_valid index marks the root path as non-G_valid, demonstrating that the flag does not perturb non-G_valid array behaviour.", "Kept the existing combined items+contains generation logic in satisfyContainsNeeds, relying on the G_valid classifier and flag for semantics, and validated that array generation remains deterministic and AJV-valid under the new tests.", "Re-ran npm run build, npm run typecheck, npm run lint, npm run test and npm run bench successfully after adding the tests, confirming diagnostics envelopes and bench gates remain satisfied."], "refonly": {"anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#generator", "spec://§10#repair-engine"], "summary": "Extended pipeline tests to exercise G_valid items+contains array generation and to prove that toggling the G_valid flag leaves non-G_valid arrays unchanged, with full build/typecheck/lint/test/bench validation."}}
{"ts": "2025-12-03T21:25:00.000Z", "taskId": "9402.9402003", "action": "complete-subtask", "anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#arrays-contains"], "touchedFiles": ["PLAN.md", ".taskmaster/docs/9402-traceability.md", ".taskmaster/tasks/tasks.json", "docs/examples/g-valid-uuid-contains.md", "test/fixtures/g-valid-arrays.json"], "notes": ["Reviewed the UUID + contains G_valid example in docs/examples/g-valid-uuid-contains.md and used it as a reference motif for dedicated array fixtures, without copying SPEC prose.", "Created a small shared fixture file test/fixtures/g-valid-arrays.json that encodes a G_valid items+contains schema for order items with UUID id and isGift boolean, plus a non-G_valid uniqueItems+contains string array motif, both aligned with the existing classifier and pipeline tests.", "Validated that the new fixtures do not change runtime behaviour on their own and can be consumed by existing or future tests as a single source of truth for G_valid vs non-G_valid array motifs.", "Re-ran npm run build, npm run typecheck, npm run lint, npm run test and npm run bench successfully after adding the fixtures, confirming that diagnostics envelopes and bench gates remain satisfied."], "refonly": {"anchors": ["spec://§6#phases", "spec://§6#generator-repair-contract", "spec://§9#arrays-contains"], "summary": "Added shared fixtures for G_valid UUID+contains and a contrasting non-G_valid uniqueItems+contains array motif, derived from the existing example and validated with full build/typecheck/lint/test/bench."}}
